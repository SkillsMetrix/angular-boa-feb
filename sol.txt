import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class FormService {

  private apiURL='http://localhost:3000/users'

  constructor(private http:HttpClient) { }

  addUserToDB(data:any){
   this.http.post(this.apiURL,data).subscribe(data =>{
    console.log("user added");
    
   })
    
  }
  loginValidate(data:any){
     console.log(data);
  }
  loadUsers(){
    return this.http.get(this.apiURL) 
  }
  deleteUser(id:string){
    return this.http.delete(`${this.apiURL}/${id}`)
  }
}

------------
<div class="table-container mat-elevation-z4">
<table mat-table [dataSource]="users" >

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID. </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="uname">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element"> {{element.uname}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef> Email </th>
    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="city">
    <th mat-header-cell *matHeaderCellDef> City </th>
    <td mat-cell *matCellDef="let element"> {{element.city}} </td>
  </ng-container>

<ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef> Action </th>
    <td mat-cell *matCellDef="let element"> 
    <button mat-icon-button color="warn" (click)="deleteUser(element.id)">Delete</button>  
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

</div>


--------

import { Component, OnInit } from '@angular/core';
import { FormService } from '../../shared/form.service';
import { MatButtonModule } from "@angular/material/button";

@Component({
  selector: 'app-userdata',
  templateUrl: './userdata.component.html',
  styleUrl: './userdata.component.css',
 
})
export class UserdataComponent implements OnInit {
  constructor(private us: FormService) {}

  displayedColumns:string[]=['id','uname','email','city','action']
  users: any[] = [];
  ngOnInit(): void {
    this.loadData();
  }
  loadData() {
    this.us.loadUsers().subscribe((data: any) => {
      this.users = data;
    });
  }
  deleteUser(id:string){
    if(confirm('Are you sure to Delete this User?')){
      this.us.deleteUser(id).subscribe(()=>{
        this.loadData()
      })
    }

  }
}
